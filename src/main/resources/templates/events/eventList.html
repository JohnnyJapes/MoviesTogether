<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" >
<head>
    <meta charset="UTF-8">
    <title>Event Page</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</head>

<header class="sticky-top" th:replace="~{header :: stick}"></header>

<body>
<!-- Check for login error -->
	<div class="row justify-content-center">
		<div th:if="${param.error}" class="col">
			<div class="alert alert-danger  alert-dismissible">
				Invalid username and password.
				<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
			</div>
		</div>
			<!--Check for logout-->
		<div th:if="${param.logout}" class="col">
	
			<div class="alert alert-success alert-dismissible">
				You have been logged out.
				<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
			</div>
		</div>

	</div>

	<div class="container">
		<div class="row">
			<div class="list-group col-4">
				<button type="button" class="list-group-item list-group-item-action active" data-bs-toggle="list" aria-current="true">
				  The current button
				</button>
				<a type="button" class="list-group-item list-group-item-action" th:each="event, eStat : ${events}" 
					th:if="${event.status.id == 2}" th:id="|eventButton${eStat.count}|" th:href="|#eventDetails${eStat.count}|" data-bs-toggle="list" >
                    <span class="fs-5 fw-bold" th:text="|${event.event.title}|"> </span>
                    <br>
                    <span th:text="|Date: ${event.event.event_datetime}|"></span>
                    <br>
                    <span th:text="|Movie: ${event.event.movie.title}|"> </span>
                </a>
			</div>
            <div class="col-8 tab-content" id="eventDetails">
                <div class="tab-pane fade" th:each="event, eStat : ${events}" th:id="|eventDetails${eStat.count}|">
                    <span th:text="${event.event.title}"></span>
                </div>
            
            
            </div>

		</div>

	</div>

	

</div>

</body>

<footer th:insert="~{footer :: footer}"></footer>




<script src="https://code.jquery.com/jquery-3.7.0.min.js"
integrity="sha256-2Pmvv0kuTBOenSvLm6bvfBSSHrUJ+3A7x6P5Ebd07/g=" crossorigin="anonymous"></script>
<script th:inline="javascript">


$(document).ready(function () {


    const listItems = $(".list-group-item");


    listItems.forEach(element => {
        element.addEventListener("click", function(event){

            $(".list-group-item.active").removeClass("active")
            // for (let i = 0; i < listItems.length; i++) {
            //     listItems.get(i).remo
                
            // }
        })
        
    });

})


</script>